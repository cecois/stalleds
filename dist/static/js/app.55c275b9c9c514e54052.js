webpackJsonp([1],{"M/VQ":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),i=s("NOBz"),o=(s("M/VQ"),s("MMSg")),n=s.n(o),c=(s("doPI"),s("PJh5")),l=s.n(c),r=s("VN6J"),m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("link",{attrs:{rel:"stylesheet",href:"//cdn.materialdesignicons.com/2.0.46/css/materialdesignicons.min.css"}})],1)},staticRenderFns:[]};var p=s("VU/8")({name:"App"},m,!1,function(e){s("zi0M")},null,null).exports,h=s("/ocq"),u={name:"Default",data:function(){return{basemaps:[{baseline:"#eafafa",highlight:"#de39ac",source:"carto.com",key:"dark_all",nom:"Carto Dark",uri:"http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}@2x.png",active:!0},{baseline:"#464646",highlight:"#9572eb",source:"carto.com",key:"light_all",nom:"Carto Light",uri:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png",active:!1},{baseline:"#3300b4",highlight:"#156e16",source:"esri",key:"esri_natgeo",nom:"Esri National Geographic",uri:"http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",active:!1},{baseline:"#777b49",highlight:"#db5848",source:"wmflabs.org",key:"mapnik_bw",nom:"Mapnik B/W",uri:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",active:!1},{baseline:"#7b3025",highlight:"#efd3da",source:"stamen.com",key:"stamen_toner",nom:"Stamen Toner",uri:"http://tile.stamen.com/toner/{z}/{x}/{y}.png",active:!1},{baseline:"#70753a",highlight:"#31bf69",source:"stamen.com",key:"stamen_toner_lite",nom:"Stamen Toner Light",uri:"http://tile.stamen.com/toner-lite/{z}/{x}/{y}.png",active:!1},{baseline:"#5a5c58",highlight:"#26a9c8",source:"stamen.com",key:"stamen_watercolor",nom:"Stamen Watercolor",uri:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",active:!1},{baseline:"#f8601b",highlight:"#798fc2",source:"waze.com",key:"waze_us",nom:"Waze US",uri:"https://livemap-tiles3.waze.com/tiles/{z}/{x}/{y}.png",active:!1},{baseline:"#404040",highlight:"#2e688d",source:"yandex.net",key:"yandex",nom:"Yandex",uri:"http://vec01.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}",active:!1},{baseline:"#562c24",highlight:"#9d86ce",active:!1,nom:"AJ Ashton's Pencil",source:"mapbox.com",key:"mapbox_ashton_pencil",uri:"http://{s}.tiles.mapbox.com/v4/aj.03e9e12d/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejdueG92YjAwZHUzMnA5ZWIyMW1zcDQifQ.acDRLVcqW0LZfWQXvC3-pw"},{baseline:"#de6662",highlight:"#28660b",active:!1,nom:"Pinterest by Stamen",source:"stamen.com",key:"stamen_pinterest",uri:"http://{s}.tiles.mapbox.com/v3/pinterest.map-ho21rkos/{z}/{x}/{y}.png"},{baseline:"#02050b",highlight:"#584f18",active:!1,nom:"Woodcut by Eleanor Lutz",source:"mapbox.com",key:"mapbox_lutz_woodcut",uri:"http://{s}.tiles.mapbox.com/v4/mapbox.b0v97egc/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejdueG92YjAwZHUzMnA5ZWIyMW1zcDQifQ.acDRLVcqW0LZfWQXvC3-pw"},{baseline:"#7094b7",highlight:"#9effcf",active:!1,nom:"Space Station by Eleneor Lutz",source:"mapbox.com",key:"mapbox_lutz_spacestation",uri:"http://{s}.tiles.mapbox.com/v3/eleanor.ipncow29/{z}/{x}/{y}.png"},{baseline:"#b57027",highlight:"#ec9992",active:!1,nom:"MapBox Financial Times",source:"mapbox.com",key:"mapbox_financialtimes",uri:"http://{s}.tiles.mapbox.com/v3/financialtimes.map-w7l4lfi8/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZHVuY2FuZ3JhaGFtIiwiYSI6IlJJcWdFczQifQ.9HUpTV1es8IjaGAf_s64VQ"},{baseline:"#d15b13",highlight:"#e3e7dc",active:!1,nom:"MapBox InfoAmazonia (Color)",source:"mapbox.com",key:"mapbox_infoamazonia_color",uri:"http://{s}.tiles.mapbox.com/v3/infoamazonia.map-ihpa46c3/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZHVuY2FuZ3JhaGFtIiwiYSI6IlJJcWdFczQifQ.9HUpTV1es8IjaGAf_s64VQ"},{baseline:"#802816",highlight:"#75b0aa",active:!1,nom:"Mapnik Mono",source:"wmflabs.org",key:"mapnik_mono",uri:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"},{baseline:"#89baa9",highlight:"#c8cdcc4",active:!1,nom:"Blueprint by Amy Lee Walton",source:"mapbox.com",key:"mapbox_mslee_blueprint",uri:"http://api.mapbox.com/styles/v1/mslee/ciellcr9y001g5pknxuqwjhqm/tiles/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoibXNsZWUiLCJhIjoiclpiTWV5SSJ9.P_h8r37vD8jpIH1A6i1VRg"},{baseline:"#707171",highlight:"#bee1e6",active:!1,nom:"Winter by Amy Lee Walton",source:"mapbox.com",key:"mapbox_mslee_winter",uri:"http://api.mapbox.com/styles/v1/mslee/cij1zoclj002y8rkkdjl69psd/tiles/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoibXNsZWUiLCJhIjoiclpiTWV5SSJ9.P_h8r37vD8jpIH1A6i1VRg"},{baseline:"#5a6059",highlight:"#73327c",active:!1,nom:"Standard Oil by Saman Bemel Benrud",source:"mapbox.com",key:"mapbox_saman_standardoil",uri:"http://api.mapbox.com/styles/v1/saman/cif61g3y602sju1m5b02255c9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic2FtYW4iLCJhIjoiS1ptdnd0VSJ9.19qza-F_vXkgpnh80oZJww"},{baseline:"#e9a071",highlight:"#9db194",active:!1,nom:"Camouflage by Eden Halperin",source:"mapbox.com",key:"mapbox_edenhalperin_camouflage",uri:"http://api.mapbox.com/styles/v1/edenhalperin/cifq0r0e5000q85m0d293k6mq/tiles/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiZWRlbmhhbHBlcmluIiwiYSI6IlFRZG0zMWMifQ.QUNKx4tIMjZfwmrE8SE6Bg"},{baseline:"#8e300b",highlight:"#91aac5",active:!1,nom:"MapBox Comic!",source:"mapbox.com",key:"mapbox_comic",uri:"https://{s}.tiles.mapbox.com/v4/mapbox.comic/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmVydHQiLCJhIjoiaWFvN1Z4USJ9.k04Q6CVms4Gx7KDZxvAx2A"},{baseline:"#6c4f18",highlight:"#585c46",active:!1,nom:"MapBox Emerald",source:"mapbox.com",key:"mapbox_emerald",uri:"https://{s}.tiles.mapbox.com/v4/mapbox.emerald/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmVydHQiLCJhIjoiaWFvN1Z4USJ9.k04Q6CVms4Gx7KDZxvAx2A"},{baseline:"#c405cc",highlight:"#cc78b2",active:!1,nom:"MapBox High Contrast",source:"mapbox.com",key:"mapbox_contrast",uri:"https://{s}.tiles.mapbox.com/v4/mapbox.high-contrast/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmVydHQiLCJhIjoiaWFvN1Z4USJ9.k04Q6CVms4Gx7KDZxvAx2A"},{baseline:"#4a3c33",highlight:"#fcf5f3",active:!1,nom:"MapBox Outdoors",source:"mapbox.com",key:"mapbox_outdoors",uri:"https://{s}.tiles.mapbox.com/v4/mapbox.outdoors/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmVydHQiLCJhIjoiaWFvN1Z4USJ9.k04Q6CVms4Gx7KDZxvAx2A"},{baseline:"#ffffff",highlight:"#1ec477",active:!1,nom:"MapBox Wheatpaste",source:"mapbox.com",key:"mapbox_wheatpaste",uri:"https://{s}.tiles.mapbox.com/v4/mapbox.wheatpaste/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmVydHQiLCJhIjoiaWFvN1Z4USJ9.k04Q6CVms4Gx7KDZxvAx2A"}],lot:null,bio:null,slug:null,supply:null,map:null,tileLayer:null,lots:null,temp:{msg:""}}},computed:{basemap:function(){return this.$_.findWhere(this.basemaps,{active:!0})}},watch:{tileLayer:function(){this.routize(),this.lrender()},lot:function(){this.routize(),this.lrender()},supply:function(){this.lrender()}},created:function(){void 0!==this.$route.params.map&&null!==this.$route.params.map&&this.switchMap(this.$route.params.map)},mounted:function(){this.lot=void 0!==this.$route.params.lot?this.$route.params.lot:null,this.initMap(),this.initLayers(),this.substyle()},methods:{switchMap:function(e,t){this.$_.each(this.basemaps,function(t){t.key==e?t.active=!0:t.active=!1}),t&&this.reDraw()},reDraw:function(){this.map.removeLayer(this.tileLayer),this.tileLayer=L.tileLayer(this.$_.findWhere(this.basemaps,{active:!0}).uri,{maxZoom:18,isBaseMap:!0}).addTo(this.map)},defaultStyle:function(){return{fill:!0,color:this.color_default,fillColor:this.color_default,fillOpacity:.5,opacity:.5}},getHue:function(e){var t=this.$_.findWhere(this.basemaps,{active:!0}),s=null;switch(e){case"active":s=t.highlight;break;default:s=t.baseline}return{fill:!0,color:s,fillColor:s,fillOpacity:.7}},activeStyle:function(){var e=this.palette;return{fill:!0,color:e.active,fillColor:e.active,fillOpacity:.7}},substyle:function(){var e=this;this.lots.eachLayer(function(t){t.eachLayer(function(t){t.feature.properties.objectid==e.lot?(t.setStyle(e.getHue("active")),e.bio=t.feature.properties.bio,e.map.fitBounds(t.getBounds())):t.setStyle(e.getHue()),t.bindPopup(t.feature.properties.siteaddres+", "+t.feature.properties.sitecity),t.on("click",function(t){e.lot=t.sourceTarget.feature.properties.objectid})})})},routize:function(){this.$router.push({params:{map:this.basemap.key,bbox:this.map.getBounds().toBBoxString(),lot:this.lot}})},lrender:function(){this.lots.clearLayers(),this.lots.addLayer(L.geoJson(this.supply,{style:this.getHue()})),this.substyle()},prepBbox:function(e){var t=e.split(",");return t.length<4?"invalid bbox string":[[t[1],t[0]],[t[3],t[2]]]},initMap:function(){var e=this,t=void 0!==this.$route.params.bbox?this.prepBbox(this.$route.params.bbox):[[33.64197541854496,-84.84937816858294],[33.86519744005887,-83.85168224573135]],s=this;this.map=L.map("map").fitBounds(t).on("moveend",function(e){s.routize()}),this.tileLayer=L.tileLayer(this.$_.findWhere(this.basemaps,{active:!0}).uri,{maxZoom:18}),this.lots=L.layerGroup(null).addTo(this.map),this.tileLayer.addTo(this.map),this.temp.msg="fetching lots...",axios.get("https://cecmcgee.carto.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM atl_tax_parcel_parking").then(function(t){e.temp.msg="",e.supply=t.data}).catch(function(t){e.temp.msg="fetch from carto.com failed :-( refresh?",e.errors.push(t)})},initLayers:function(){},add_client_addl:function(){this.clients.related.push({})},test:function(){console.info("test method")}}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"columns",attrs:{id:"notmap"}},[s("div",{staticClass:"column is-one-quarter",attrs:{id:"brand"}},[e._v("\n    I'm a Lot\n  ")]),e._v(" "),s("div",{staticClass:"column is-three-quarters has-text-grey-light is-size-7 has-text-right is-lowercase",attrs:{id:""}},[s("div",{staticStyle:{width:"100%",height:"80%"}},[s("div",{class:{"is-invisible":""==this.temp.msg},attrs:{id:"console"}},[e._v(e._s(this.temp.msg))])]),e._v(" "),s("div",{staticStyle:{width:"100%",height:"20%"}},[s("small",{attrs:{id:"attribution"}},[e._v("\n      © code:C.C.Miller, © data:"),s("a",{attrs:{href:"http://www.openstreetmap.org/copyright"}},[e._v("OpenStreetMap")]),e._v(", © basemap ("+e._s(this.basemap.nom)+"): "+e._s(this.basemap.source)+"\n    ")])])])]),e._v(" "),s("div",{staticClass:"has-text-right is-pulled-right",class:{"is-invisible":!e.bio},attrs:{id:"bio"}},[e._v("\n    "+e._s(e.bio)+"\n  ")]),e._v(" "),s("div",{staticClass:"map",attrs:{id:"map"}}),e._v(" "),s("ul",{staticClass:"columns",attrs:{id:"map-menu"}},e._l(this.basemaps,function(t){return s("li",{staticClass:"column"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.nom,placement:"top-center",classes:["info"],targetClasses:["it-has-a-tooltip"],offset:10,delay:{show:0,hide:50}},expression:"{\n  content: map.nom,\n  placement: 'top-center',\n  classes: ['info'],\n  targetClasses: ['it-has-a-tooltip'],\n  offset: 10,\n  delay: {\n    show:0,\n    hide: 50,\n  },\n}"}],staticClass:"map-menu-item",class:{active:t.active},style:{backgroundImage:"url(./static/map-menu-thumbs/"+t.key+".png)"},on:{click:function(s){e.switchMap(t.key,"loaded")}}})])}))])},staticRenderFns:[]};var d=s("VU/8")(u,b,!1,function(e){s("UlBb")},null,null).exports;a.a.use(h.a);var j=new h.a({routes:[{path:"/:map?/:bbox?/:lot?",name:"Default",component:d}]}),g=s("rNNc");a.a.use(g.a),a.a.use(r.a),Object.defineProperty(a.a.prototype,"$moment",{value:l.a}),a.a.config.productionTip=!1,a.a.use(n.a),a.a.component("vue-simple-suggest",i.a),Object.defineProperty(a.a.prototype,"$MOMENT",{value:l.a}),new a.a({el:"#app",router:j,components:{App:p,VueSimpleSuggest:i.a},template:"<App/>"})},UlBb:function(e,t){},doPI:function(e,t){},uslO:function(e,t,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return s(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="uslO"},zi0M:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.55c275b9c9c514e54052.js.map